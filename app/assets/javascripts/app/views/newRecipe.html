<div class="row">

  <div class="col-md-8 col-md-offset-2">
    <h4 class="text-center"> {{ ctrl.recipe.title}}</h4>

  <div>
    <h5>Ingredients</h5>
    <div is-disabled="ctrl.no_drag" data-as-sortable="dragControlListeners" data-ng-model="ctrl.recipe.ingredients_attributes">
      <li class="list-group-item" data-ng-repeat="ingredient in ctrl.recipe.ingredients_attributes" data-as-sortable-item>
        <div ng-show="ingredient.display" data-as-sortable-item-handle> {{ ingredient.ingredient_name }}, {{ ingredient.quantity_prep }} <span class="tag tag-default tag-pill pull-right">
          <a href="" ng-click="ctrl.removeEntry(ctrl.recipe.ingredients_attributes.indexOf(ingredient), ctrl.recipe.ingredients_attributes)"> delete </a> |
          <a href="" ng-click="ingredient.display=false"> edit </a> |
          <a href="" ng-click="ctrl.addIngredient()"> add another </a>
        </div>
        <div ng-hide="ingredient.display">
          <form class="form-inline" ng-submit="ingredient.display=true">
            <select class="form-control"
                    name="ingredientSelect"
                    ng-model="selectedIngredient"
                    ng-options='x.name for x in ctrl.ingredients'
                    ng-change="ctrl.setIngredient(selectedIngredient, ingredient)">
                    <option value="">Select from menu...</option>
            </select>
            <input class="form-control"
                   ng-show="!selectedIngredient"
                   name="editIngredientName"
                   ng-model="ingredient.ingredient_name"
                   placeholder="...or enter one here">
            <input class="form-control"
                   name="editIngredientQuantity"
                   ng-model="ingredient.quantity_prep"
                   placeholder="enter quantity and prep">
            <input type="submit" class="btn btn-primary" value="add">
            <button class="btn btn-primary" ng-click="ctrl.removeEntry(ingredient, ctrl.recipe.ingredients_attributes)" value="remove">remove</button>
          </form>
        </div>
      </li>
    </div>
  </div>

  <div>
    <h5>Directions</h5>
    <div is-disabled="ctrl.no_drag" data-as-sortable="dragControlListeners" data-ng-model="ctrl.recipe.directions">
      <li class="list-group-item" data-ng-repeat="direction in ctrl.recipe.directions" data-as-sortable-item>
        <div ng-show="direction.display" data-as-sortable-item-handle>{{ ctrl.recipe.directions.indexOf(direction) + 1}}. {{ direction.content }} <span class="tag tag-default tag-pill pull-right">
          <a href="" ng-click="ctrl.removeEntry(ctrl.recipe.directions.indexOf(direction), ctrl.recipe.directions)"> delete </a> |
          <a href="" ng-click="direction.display=false"> edit </a> |
          <a href="" ng-click="ctrl.addDirection()"> add another </a>
        </div>
        <div ng-hide="direction.display">
          <textarea class="form-control"
                    name="editDirection"
                    ng-model="direction.content">
          </textarea>
          <a href="" ng-click="direction.display=true"> add </a>
        </div>
      </li>
    </div>
  </div>

  </br>


</div>
</div>
